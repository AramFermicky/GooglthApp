<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Профиль</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="slide-in">
  <div class="mobile-frame">
    <div class="profile-container">
      <header class="profile-header">
        <button class="back-btn" onclick="window.history.back()">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
          </svg>
        </button>
        <h1>Профиль</h1>
        <button class="edit-btn">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
          </svg>
        </button>
      </header>
      
      <div class="profile-hero">
        <div class="profile-avatar-large pulse">
          <svg viewBox="0 0 24 24" width="80" height="80" fill="white">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
        </div>
        <h2 id="profile-name">Загрузка...</h2>
        <p id="profile-status" class="online-status-text">Онлайн</p>
      </div>
      
      <div class="profile-info">
        <div class="info-item">
          <span class="info-label">Email</span>
          <span id="profile-email" class="info-value">Загрузка...</span>
        </div>
        <div class="info-item">
          <span class="info-label">ID аккаунта</span>
          <span id="profile-id" class="info-value">Загрузка...</span>
        </div>
        <div class="info-item">
          <span class="info-label">Дата регистрации</span>
          <span id="profile-join-date" class="info-value">Загрузка...</span>
        </div>
      </div>
      
      <div class="profile-section">
        <h3>Настройки профиля</h3>
        <div class="setting-item">
          <span>Фото профиля</span>
          <div class="setting-value">Изменить</div>
        </div>
        <div class="setting-item">
          <span>Статус</span>
          <div class="setting-value">Онлайн</div>
        </div>
        <div class="setting-item">
          <span>Имя</span>
          <div class="setting-value">Изменить</div>
        </div>
      </div>
      
      <div class="profile-section">
        <div class="setting-item danger">
          <span>Выйти из аккаунта</span>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const currentUser = AuthSystem.getCurrentUser();
      if (currentUser) {
        document.getElementById('profile-name').textContent = currentUser.name;
        document.getElementById('profile-email').textContent = currentUser.email;
        document.getElementById('profile-id').textContent = `ID: ${currentUser.id.substring(0, 8)}...`;
        document.getElementById('profile-join-date').textContent = `Присоединился: ${new Date().toLocaleDateString()}`;
      }
      
      document.querySelectorAll('.setting-item.danger').forEach(item => {
        item.addEventListener('click', () => {
          AuthSystem.logout();
          showSuccess('Вы успешно вышли из аккаунта');
          setTimeout(() => {
            navigateTo('old_user.html');
          }, 1500);
        });
      });
    });
  </script>
  <script src="script.js"></script>
</body>
</html>